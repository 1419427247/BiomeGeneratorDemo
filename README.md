# BiomeGeneratorDemo


# 生态群落地图生成示例
这是一个使用Godot引擎制作的生态群落地图生成的Demo，展示了如何使用中点位移算法（Midpoint Displacement Algorithm）来创建随机的地形和植被。

![Alt text](img/%E5%9B%BE%E7%89%874.png)

中点位移算法是一种分形算法，它可以通过递归地将矩形分割成更小的部分，并对每个中点进行随机的偏移，来生成自然的图形。

## 算法原理
给定一个初始的线段或矩形，然后对其进行递归的细分，每次细分时，将中点或中心点进行一次插值，使得曲线或表面呈现出不规则的形状。随着细分次数的增加，曲线或表面越来越接近真实的自然景观。具体来说，中点位移算法可以分为以下几个步骤：

（1）一开始需要一个初始的正方形网格，给定初始的四个顶点的属性和高度值，形成一个矩形，它由个方格组成，其中n是预设的迭代次数。给定四个角点的属性和高度值，可以是任意随机的，如图5-4所示（黑色表示为空）。
![Alt text](img/%E5%9B%BE%E7%89%871.png)

（2）计算矩形的四条边的中点的高度值和属性，中点属性从相邻两个顶点随机选取一个，而中点高度为相邻两个顶点的平均值。当四条边的中点计算完成后开始计算矩形的中心点的高度值和属性，为四个顶点的平均值加上一个随机偏移量。如图5-5所示：

![Alt text](img/%E5%9B%BE%E7%89%872.png)

（3）将矩形再次划分为四个小矩形，重复步骤（2）和（3），直到每个方格被设置。最终效果如图5-6所示：
![Alt text](img/%E5%9B%BE%E7%89%873.png)

